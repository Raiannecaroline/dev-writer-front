<div class="container mt-5">
  <h1 class="text-center mb-4">Lista de Categorias</h1>

  <div *ngIf="showAlert" class="alert alert-success alert-dismissible fade show" role="alert">
    {{ alertMessage }}
    <button type="button" class="btn-close" (click)="showAlert = false" aria-label="Close"></button>
  </div>

  <div class="d-flex justify-content-between mb-3">
    <button class="btn btn-secondary" (click)="goBack()">
      <i class="bi bi-arrow-left-circle me-2"></i>Voltar
    </button>
    <a [routerLink]="['/admin/categorias/add']" class="btn btn-primary" (click)="showAlertMessage('Redirecionando para adicionar uma nova categoria')">
      <i class="bi bi-plus-circle me-2"></i>Adicionar Categorias
    </a>
  </div>

  <ng-container *ngIf="categorias$ | async as categorias">
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>Id</th>
            <th>Nome</th>
            <th>Url</th>
            <th class="text-center">Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let categoria of categorias">
            <td>{{ categoria.id }}</td>
            <td>{{ categoria.name }}</td>
            <td>{{ categoria.urlHandle }}</td>
            <td class="text-center">
              <a [routerLink]="['/admin/categorias', categoria.id]" class="btn btn-outline-secondary btn-sm me-2" (click)="showAlertMessage('Redirecionando para editar a categoria')">
                <i class="bi bi-pencil-square me-1">Editar</i>
              </a>
              <button class="btn btn-outline-danger btn-sm" (click)="deleteCategoria(categoria.id)">
                <i class="bi bi-trash me-1">Excluir</i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </ng-container>
</div>
